"use strict";class AppWiser extends HTMLElement{constructor(){super(),document.querySelector("wiser-section")&&this.addScriptToDOM()}static getElementName(){return"wiser-section"}watchVisibility=()=>{const config={root:null,rootMargin:`0px 0px -${Math.floor(window.innerHeight*40/100)+"px"}px 0px`,threshold:.05};new IntersectionObserver((entries,observer2)=>{if(entries[0].isIntersecting){const section=entries[0].target;this.addScriptToDOM(),setTimeout(()=>{this.tweakReviewLayout()},1500),setTimeout(this.tweakReviewLayout.bind(this),3e3),setTimeout(this.tweakReviewLayout.bind(this),4e3),observer2.unobserve(section)}},config).observe(this)};addScriptToDOM=()=>{if(!_theme.wiserScripts||_theme.wiserScripts.length===0)return;const wiserScripts=_theme.wiserScripts;delete _theme.wiserScripts,wiserScripts.forEach(script=>{const s=document.createElement("script");s.type="text/javascript",s.defer="defer",s.src=script.url,script.attributes&&script.attributes.length>0&&script.attributes.forEach(attr=>{s.setAttribute(attr.key,attr.value)});const x=document.getElementsByTagName("script")[0];x.parentNode.insertBefore(s,x)}),setTimeout(this.tweakReviewLayout.bind(this),1500),setTimeout(this.tweakReviewLayout.bind(this),3e3),setTimeout(this.tweakReviewLayout.bind(this),4e3)};tweakReviewLayout=()=>{const reviewElems=this.querySelectorAll('.ws-card__header [data-bv-show="inline_rating"]');reviewElems.length!==0&&reviewElems.forEach(elem=>{const parent=elem.querySelector(".bv_numReviews_component_container"),countMeta=elem.querySelector(".bv_numReviews_component_container meta");if(!parent||!countMeta)return;const count=countMeta.getAttribute("content");parent.append(count)})}}customElements.get(AppWiser.getElementName())||customElements.define(AppWiser.getElementName(),AppWiser);
//# sourceMappingURL=/cdn/shop/t/292/assets/wiser.js.map?v=164507700353640053011700549962
