"use strict";window._theme=window._theme||{},_theme.initialFilterLoaded=!1,_theme.filterCached={},_theme.initCollectionEvents=function(){$(document).on("click",".collection-header .collection_readmore",(function(){"Read Less"==$(this).text()?$(this).text("Read More"):$(this).text("Read Less"),$(".collection-des").toggleClass("open")}));var e=$(".video-wrapper .video-iframe.xs--hide");window.innerWidth<768&&(e=$(".video-wrapper .video-iframe.xs--show")),e.attr("src",e.attr("data-src")),$("body .sidebar-filter .sidebar-tags .list-tags li").each((function(e){var t=$(this).find("label").text().replace("TYPE_","");$(this).find("label").text(t)})),$(window).width()>767&&$(".widget-banner-wrap").html($(".widget-bannner-hidden").clone().html()),$("body").on("click",(function(e){const t=$(e.target),i=t.closest("[data-limited-view]").length,o=t.closest("[data-sortby]").length;i||o||$(".toolbar .dropdown-menu").fadeOut()}))};const $descH2=$(".allDescription h2");$descH2.attr({"aria-level":"3",role:"heading"}),_theme.handleBundleATC=function(){if(0===$(".cm-bundle-form-wrapper").length)return;let e=$(".cm-bundle-form-wrapper").html(),t=$(".addedMessageBundleText");$(document).on("click","button.cm-add-bndle",(function(i){i.preventDefault(),i.stopPropagation();const o=$(this);$(this).addClass("click-processing").attr("disabled",!0),$(".cm-bundle-form-wrapper form").remove(),$(this).after(e);const n=$(this).closest(".bundle-proItem").find("span.variant.cmVariant").attr("data-id");$('form#add-to-cart-quickview-form input[name="id"]').val(n),$('form#add-to-cart-quickview-form input[name="quantity"]').attr("data-qv-qtt-id","quantity__"+n);const a=$(this).parent().find(t);_theme.toggleLoading(1),a.text("Please wait, adding product to the cart"),Shopify.addItemFromForm("add-to-cart-quickview-form",(function(e){Shopify.getCart((function(e){_theme.MiniCart.lineItemChangeCallBack(e,(function(){a.text("item added to your cart successfully"),_theme.toggleLoading(),_theme.toggleSideCart(1),$("form#add-to-cart-quickview-form").remove(),o.removeAttr("disabled"),o.removeClass("click-processing")}))}))}))}))},_theme.initSideFilterEvents=function(){$('ul.list-tags li[role="listitem"]').each((function(e,t){const i=$(this).find("input"),o=$(this).find("label"),n=i.attr("id")+"-"+(e+1);i.attr("id",n),o.attr("for",n)})),$("[data-has-collapse] .widget-title").on("click",(function(e){_theme.initialFilterLoaded||(_theme.updateFilterItems(),_theme.initialFilterLoaded=!0);$(this).toggleClass("open");const t=this.classList.contains("open");$(this).attr("aria-expanded",t);$(this).parent().find(".widget-sidebar-content").stop().slideToggle()})),$(".refined-widgets li button").on("click",(function(e){const t=$(this).parent().find("[data-url] a").attr("href");t&&_theme.fetchHtml(t,(function(t){$(".refined-widgets li button").length?$(".refined-widgets li button")[0].focus():e.buttons&&1===e.buttons&&_theme.Helpers.showNotification("All filters has been cleared")}))})),$(".refined-widgets li label + span").off("keydown").on("keydown",(function(e){let t=!1;!e.keyCode||13!==e.keyCode&&32!==e.keyCode||(t=!0),t&&(e.preventDefault(),$(this).parent().find("input").prop("checked",!1).trigger("change"))})),$(".sidebar-mob .sidebar-filter .widget-title").on("click",(function(){_theme.initialFilterLoaded||(_theme.updateFilterItems(),_theme.initialFilterLoaded=!0);const e=$(this).closest(".widget");e.siblings(".widget").removeClass("open-accordion").find(".widget-content").stop().slideUp(0),e.toggleClass("open-accordion").find(".widget-content").slideToggle(0),$(this).closest(".sidebar-mob").toggleClass("open-accordion-mob"),$(this).attr("aria-expanded",(function(e,t){return!JSON.parse(t)}))})),$(".collection-template-body-wrapper .close-mob-trig-fil, .filter-handler-wrap-mob a.apply-mob-filter").on("click",(function(){_theme.toggleFilterModal()})),$("a.apply-mob-filter-per").on("click",(function(){$(this).parents(".widget-content").slideUp(0),$(this).parents(".sidebar-mob").removeClass("open-accordion-mob"),$(this).parents(".sidebar-tags").removeClass("open-accordion")})),$('.filter_search [name="search_filter"]').on("input",(function(e){const t=$(this).val().toLowerCase().trim(),i=$(this).closest(".filter_search").next("ul");let o=0;t&&""!=t?(i.find("li").each((function(e){if($(this).find("input").length){let e=$(this).find("input").val().toLowerCase().trim();e.indexOf("_")>-1&&(e=e.split("_")[1]),e.indexOf(t)>-1?(o++,$(this).removeClass("hidden")):$(this).addClass("hidden")}})),$("#announce_brand_count").text(""),o>0?$("#announce_brand_count").text(o+"results found"):$("#announce_brand_count").text("No results found")):($("#announce_brand_count").text(""),i.find("li").removeClass("hidden"))})),$(".sidebar .sidebar-filter > .widget").each((function(e,t){const i=$(this).find(".list-tags > li").length,o=$(this).find("input:checked").length,n=0===o?"none":o,a=$(this).find(".widget-title").data("title");$(this).find("[data-labelledby]").text(a+" filter "+n+" of "+i+" selected")})),$("[data-sortby] .filter-sortby .dropdown-menu > li").off("click").on("click",(function(e){const t=$(this).find("span[data-href]").data("href"),i=$(this).data("title");if(!t)return;$(this).addClass("active").attr("aria-selected",!0).siblings("li").removeClass("active").attr("aria-selected",!1),$(this).parent().find("li").removeClass("selected");const o=$(this).closest(".filter-sortby").find(".label-tab");o.find(".label-text").text(i);const n=_theme.Helpers.setParamInURL("sort_by",t);$(this).closest(".dropdown-menu").fadeOut(),o.attr("aria-expanded",!1),_theme.fetchHtml(n,(function(e){$('[data-sortby] [data-toggle="dropdown"]').focus()}))})),$(".collection-back-to-top").click((function(e){return e.preventDefault(),$(".product-collection.products-grid .grid-item:nth-of-type(1) .quickview-button").focus(),$("body,html").animate({scrollTop:0},500),!1})),$(".collection-template .pagination-in-col a").click((function(e){if(e.preventDefault(),$(this).hasClass("disable-pagination-anchor"))return;const t=$(this).attr("href");t&&_theme.fetchHtml(t,(function(t){$("body,html").animate({scrollTop:0},1e3),e.buttons&&1===e.buttons&&$(".product-collection.products-grid .quickview-button")[0].focus()}))})),$(".sidebar-filter .sidebar-tags .clear").click((function(e){e.preventDefault();const t=[];if($(this).closest(".sidebar-filter").find('li > input[type="checkbox"]:checked').each((function(e){t.push($(this).val().trim())})),0===t.length)return;$(this).closest(".sidebar-tags").find('.list-tags li > input[type="checkbox"]:checked').each((function(e){const i=$(this).val().trim(),o=t.indexOf(i);o>-1&&t.splice(o,1),$(this).prop("checked",!1)}));let i="/collections/"+$(".product-collection").data("handle");t.length&&(i+="/"+t.join("+"));const o=new URL(window.location.href);o.searchParams.delete("constraint");const n=o.searchParams.toString();n&&""!=n&&(i+="?"+n),$(this).attr("aria-busy",!0);const a=$(this).closest(".widget").find(".widget-title").data("title");_theme.fetchHtml(i,(function(e){$('.sidebar-filter .widget [data-title="'+a+'"]').focus()}))})),$(".sidebar-mob .clear-mob-filter").click((function(e){const t=$(this).closest(".sidebar-filter").find('li > input[type="checkbox"]:checked');if(0===t.length)return;t.each((function(e){$(this).prop("checked",!1)}));let i="/collections/"+$(".product-collection").data("handle");const o=new URL(window.location.href).searchParams.toString();o&&""!=o&&(i+="?"+o),_theme.fetchHtml(i,(function(e){$(".sidebar-mob .clear-mob-filter").focus()}))}))},_theme.updateFilterItems=function(){if(!_theme.collectionFilter)return;const e=Object.keys(_theme.collectionFilter);function t(e,t,i){let o='<li role="listitem"><input [[Input_Checked]] type="checkbox" id="[[Filter_Input_Id]]" value="[[Filter_Input_Value]]" aria-controls="filter-ajax-accessibility-status" /><label class="[[Filter_Input_Value]] outline-inset" for="[[Filter_Input_Id]]">[[Filter_Title]]</label><div data-url class="hidden">[[Filter_Url]]</div></li>';const n=(t?"filter-desk-":"filter-mob-")+e.tag_value_handleize;return o=_theme.Helpers.updateHtml(o,"[[Filter_Input_Id]]",n),o=_theme.Helpers.updateHtml(o,"[[Input_Checked]]",i?"checked":""),o=_theme.Helpers.updateHtml(o,"[[Filter_Input_Value]]",e.value),o=_theme.Helpers.updateHtml(o,"[[Filter_Title]]",e.title),o=_theme.Helpers.updateHtml(o,"[[Filter_Url]]",e.link_to_add_tag||e.link_to_remove_tag),o}e.forEach((e=>{const i=_theme.collectionFilter[e];if(!i)return;const o=$('.sidebar .sidebar-filter > [data-filter="'+e+'"] ul.list-tags'),n=$('.sidebar-mob .sidebar-filter > [data-filter="'+e+'"] ul.list-tags');let a="",l="",s="",r="";i.selected.forEach((e=>{a+=t(e,!0,!0),s+=t(e,!1,!0)})),i.unselected.forEach((e=>{l+=t(e,!0),r+=t(e,!1)}));const d=a+l,c=s+r;o.html(d),n.html(c)})),$('.sidebar-filter li input[type="checkbox"]').off("change").on("change",(function(e){const t=$(this).val();$(this).parent("li").siblings("li").find('input[type="checkbox"]').prop("checked",!1);let i=$(".sidebar").data("collection-url");if(!i)return;const o=Array.from($(this).closest(".sidebar-filter").find(".sidebar-tags input:checked")).map((function(e){return e.value}));i=window.location.origin+i+"/"+o.join("+");const n=_theme.Helpers.getParamFromURL("sort_by");n&&(i=_theme.Helpers.setParamInURL("sort_by",n,i));let a=[];_theme.isMobile?$(".sidebar-mob .sidebar-tags.open-accordion").length&&$(".sidebar-mob .sidebar-tags.open-accordion").each((function(e){a.push($(this).data("title"))})):$(".sidebar-filter .widget-title.open").length&&$(".sidebar-filter .widget-title.open").each((function(e){a.push($(this).data("title"))})),_theme.fetchHtml(i,(function(e){if(a.length&&(a=a.filter(((e,t)=>a.indexOf(e)===t)),a.map((function(e){if(_theme.isMobile){const t=$('.sidebar-filter .sidebar-tags[data-title="'+e+'"]');t.find('.list-tags input[type="checkbox"]:checked').length&&t.addClass("open-accordion").find(".widget-content").show()}else{const t=$('.sidebar-filter .widget-title[data-title="'+e+'"]'),i=t.closest(".widget");i.find('.list-tags input[type="checkbox"]:checked').length&&(t.addClass("open"),i.find(".widget-sidebar-content").addClass("open"))}}))),_theme.isMobile)_theme.toggleFilterModal(!0,(()=>{let e=$('.sidebar .sidebar-filter input[value="'+t+'"]');if(_theme.isMobile&&(e=$('.sidebar-mob .sidebar-filter input[value="'+t+'"]')),e.length&&e.focus(),o.length){if($(".clear-mob-filter").hasClass("activeClear"))return;$(".clear-mob-filter").addClass("activeClear")}}));else{let e=$('.sidebar .sidebar-filter input[value="'+t+'"]');_theme.isMobile&&(e=$('.sidebar-mob .sidebar-filter input[value="'+t+'"]')),e.length&&e.focus()}}))}))},_theme.initToolbarEvents=function(){const e=_theme.Helpers.getParamFromURL("element");if(e){"choose-perpage"===e&&($("#"+e).parent().find('[data-toggle="dropdown"]')[0].focus(),_theme.updateStatusAccessibility(1,"Content loaded",1));const t=_theme.Helpers.deleteParamFromURL("element");history.replaceState("","",t)}$('.toolbar [data-toggle="dropdown"]').off("click").on("click",(function(e){const t=$(this),i=$(this).closest(".toolbar-col").siblings(".toolbar-col");i.find('[data-toggle="dropdown"]').removeClass("open"),i.find(".dropdown-menu").hide(),$(this).toggleClass("open");const o=$(this).parent().find(".dropdown-menu");o.fadeToggle(),$(this).hasClass("open")?($(this).attr("aria-expanded",!0),_theme.focusTrap(o,(function(){t.removeClass("open").attr("aria-expanded",!1),o.fadeOut(),t[0].focus()}),'li[tabindex="0"]')):($(this).attr("aria-expanded",!1),o.find("li").removeClass("selected"))})),$(document).off("keydown",".toolbar .dropdown-menu li").on("keydown",".toolbar .dropdown-menu li",_theme.handleKeyboardUpDownButtonPress),$(".limited-view .dropdown-menu li").off("click").on("click",(function(e){const t=$(this).data("value");if(!t)return;const i=$(this).closest("[data-limited-view]").find('button[data-toggle="dropdown"]'),o=$(this).closest(".dropdown-menu");i.find(".label-text span").first().text(t),$(this).attr("aria-selected",!0).siblings("li").attr("aria-selected",!1),$(this).addClass("active").siblings("li").removeClass("active"),_theme.updateStatusAccessibility(1,"Content loading"),$.ajax({dataType:"json",type:"Post",url:"/cart.js",data:{"attributes[collection_pagination]":t},beforeSend:function(){o.fadeOut(),_theme.toggleLoading(1)},success:function(e){_theme.fetchHtml(`${window.location.pathname}?num=${t}`,(function(e){i[0].focus()}))},error:function(e,t){_theme.toggleLoading(),_theme.toggleAjaxModal(1,JSON.parse(e.responseText).description)}})})),$(".toolbar button.sidebar-label").click((function(e){_theme.toggleFilterModal(!0)}))},_theme.toggleFilterModal=function(e,t){const i=$(".toolbar button.sidebar-label");e?($("html").addClass("sidebar-open"),i.attr("aria-expanded",!0),setTimeout((function(){_theme.focusTrap($(".sidebar-mob"),(function(){$("html").removeClass("sidebar-open"),i[0].focus()}),'[role="button"]'),t&&"function"==typeof t&&t()}),250),_theme.isMobile&&$("*").not($(".sidebar-mob").find("*")).not(".sidebar-mob").not($(".sidebar-mob").parents()).attr("aria-hidden","true")):(_theme.isMobile&&$("*").not($(".sidebar-mob").find("*")).not(".sidebar-mob").not($(".sidebar-mob").parents()).removeAttr("aria-hidden"),$("html").removeClass("sidebar-open"),$(".widget.sidebar-tags").removeClass("open-accordion"),$(".sidebar-mob").removeClass("open-accordion-mob"),$(".collection-template-body-wrapper .widget.sidebar-tags.open-accordion .widget-content").slideUp(0),i.attr("aria-expanded",!1)[0].focus(),_theme.isMobile&&setTimeout((function(){i.attr("aria-expanded",!1)[0].focus()}),5e3))},_theme.fetchHtml=function(e,t,i){function o(i){$(".cm-page-total .maxcount").text($(i).find(".cm-page-total .maxcount").text()),$(".col-main .product-collection").replaceWith($(i).find(".col-main .product-collection")),$(".collection-template .col-sidebar .sidebar .sidebar-filter").replaceWith($(i).find(".collection-template .col-sidebar .sidebar .sidebar-filter")),$(".collection-template .col-sidebar .sidebar-mob").replaceWith($(i).find(".collection-template .col-sidebar .sidebar-mob")),$(".collection-template .refined-widgets").replaceWith($(i).find("#filter-container .refined-widgets")),$(".collection-template .product-pagination").replaceWith($(i).find(".collection-template .product-pagination")),$("script[data-filter-script]").replaceWith($(i).find("script[data-filter-script]")),document.querySelectorAll("trustpilot-summary").forEach((function(e,t){0!==t&&e.remove()})),$(".col-main .dropdown-menu").hide(),_theme.updateFilterItems(),_theme.initSideFilterEvents(),_theme.ProductGridQuickView.init(),_theme.Wishlist.init(),_theme.addReviewCount(2e3),window.history.replaceState("","",e),t&&"function"==typeof t&&t(i),_theme.updateStatusAccessibility(1,"Content loaded",1),_theme.toggleLoading()}_theme.updateStatusAccessibility(1,"Content loading"),_theme.toggleLoading(1),_theme.filterCached[e]?o(_theme.filterCached[e]):$.ajax({type:"get",url:e,beforeSend:function(){},success:function(t){_theme.filterCached[e]=t,o(t)},error:function(e){_theme.toggleLoading(),_theme.toggleAjaxModal(1,JSON.parse(e.responseText).description),i&&"function"==typeof i&&i(e)},complete:function(){_theme.toggleLoading()}})},_theme.updateStatusAccessibility=function(e,t,i){e?($("#filter-ajax-accessibility-status").text(t),i&&setTimeout((function(){$("#filter-ajax-accessibility-status").text("")}),1e3)):$("#filter-ajax-accessibility-status").text("")},$(document).ready((function(){_theme.initCollectionEvents(),_theme.handleBundleATC(),_theme.initSideFilterEvents(),_theme.initToolbarEvents()}));